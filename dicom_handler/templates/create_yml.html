{% extends 'index.html' %}
{% load static %}
{% block content %}
<!-- Form -->
<form class="form">
    {% csrf_token %}
    <div class="form-group">
        <label for="templatename">DRAW Template Name</label>
        <input type="text" class="form-control" id="templatename" placeholder="Enter DRAW Template Name">
    </div>
    <div class="form-group">
        <label for="description">DRAW Template Description</label>
        <input type="text" class="form-control" id="description" placeholder="Enter DRAW Template Description">
    </div>

    <p>Select the models you want to include in the DRAW template</p>
    <!-- Table with DataTable Pagination -->
    <div class="table-container">
        <table id="mapinfo-table" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>#</th>
                    <th>Model Id</th>
                    <th>Model Name</th>
                    <th>Map ID</th>
                    <th>Structure Name</th>
                    <th>Config</th>
                    <th>Trainer Name</th>
                    <th>Postprocess</th>
                    <th>View Details</th>
                </tr>
            </thead>
            <tbody>
                {% for info in apidata %}
                {% for map in info.modelmap %}
                <tr>
                    <td><input type="checkbox" aria-label="Checkbox for following text input"></td>
                    <td>{{ info.model_id }}</td>
                    <td>{{ info.model_name }}</td>
                    <td>{{ map.mapid }}</td>
                    <td>{{ map.map_tg263_primary_name }}</td>
                    <td>{{ info.model_config }}</td>
                    <td>{{ info.model_trainer_name }}</td>
                    <td>{{ info.model_postprocess }}</td>

                    <td><a href="{{api_url}}/{{map.id}}" target="_blank">View Details</a>
                    </td>
                </tr>
                {% endfor %}
                {% endfor %}
            </tbody>
        </table>
    </div>

    <button type="submit" class="btn btn-primary">Submit</button>
</form>

{% endblock content %}